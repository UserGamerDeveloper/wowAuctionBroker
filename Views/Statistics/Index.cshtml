@using Mvc.Client.Models;

@model List<StatisticsModel>

    <style type="text/css">
        .True {
            background: #AAF387;
        }
    </style>

    <table class="table">
        <tr><td><a href="/Calculator">Калькулятор</a></td></tr>
    </table>
    <table class="table" border="1">
        <tr>
            <td>Сервер</td>
            <td>Фракция</td>
            <td>Доступное золото</td>
            <td>Ожидающее золото</td>
            <td>Последнее обновление</td>
        </tr>
        @foreach (var item in Model)
        {
            <tr class="@item.FarmMode.ToString()">
                <td rowspan="@item.statisticFactions.Count">@item.RealmName</td>
                <td>@item.statisticFactions[0].FractionName</td>
                <td>@item.statisticFactions[0].Money</td>
                <td>@item.statisticFactions[0].WaitMoney</td>
                <td rowspan="@item.statisticFactions.Count">@item.LastUpdate</td>
            </tr>
            @if (item.statisticFactions.Count != 1)
            {
                <tr class="@item.FarmMode.ToString()">
                    <td>@item.statisticFactions[1].FractionName</td>
                    <td>@item.statisticFactions[1].Money</td>
                    <td>@item.statisticFactions[1].WaitMoney</td>
                </tr>
            }
        }
    </table>